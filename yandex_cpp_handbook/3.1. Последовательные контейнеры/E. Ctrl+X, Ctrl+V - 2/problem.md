# Ctrl+X, Ctrl+V - 2

<table>
 <tr>
    <td>Ограничение времени</td>
    <td>1 c</td>
 </tr>
 <tr>
    <td>Ограничение памяти</td>
    <td>64 Mb</td>
 </tr>
  <tr>
    <td>Ввод</td>
    <td>стандартный ввод или input.txt</td>
 </tr>
  <tr>
    <td>Вывод</td>
    <td>стандартный ввод или input.txt</td>
 </tr>
</table>

Эта задача — продолжение предыдущей задачи Ctrl+X, Ctrl+V. В качестве основы вы можете взять код оттуда.

Петя продолжает разработку своего текстового редактора. На этот раз добавилось еще одна операция:
* зажать клавишу Shift (Shift).

Операции Up и Down при зажатой клавише Shift выделяют строки в текстовом редакторе. Если курсор находится на строке n, то после операций Shift, Down, Down выделенными окажутся строки n и n+1.

Операция Ctrl+X вырезает выделенные строки из файла в буфер. Операция Ctrl+V копирует строки из буфера, заменяя выделенные строки в файле.

Операции Ctrl+X и Ctrl+V сбрасывают выделение после исполнения и отпускают клавишу Shift. Если при исполнении этих операций в файле не выделена ни одна строка, поведение должно соответствовать предыдущей задаче Ctrl+X, Ctrl+V.

## Формат ввода
Программе на вход подаётся набор строк, разделённых переносом строки. Длина каждой строки не превышает 3000 символов. Последняя строка в файле является пустой. Она означает завершение ввода файла. Других пустых строк в файле быть не может.

После этого и до окончания ввода программе подаются команды Down, Up, Ctrl+X, Ctrl+V, Shift.

## Формат вывода
Выведите получившийся файл построчно.

## Примечание

Для вырезания строк из файла в буфер удобно использовать функцию splice. Разберитесь самостоятельно по документации, как она устроена.

### void splice ( iterator position, list& x, iterator i );
   Перемещает один элемент, на который указывает итератор i из списка x в список, для которого вызывается splice.
   position: Итератор, указывающий на позицию в целевом списке, куда нужно вставить перемещенный элемент. Элемент из x, на который указывает i, будет вставлен перед элементом, на который указывает position.
   x: Ссылка на исходный список, из которого нужно переместить элемент.
   i: Итератор, указывающий на элемент в списке x, который нужно переместить.

### void splice ( iterator position, list& x, iterator first, iterator last );
   Перемещает диапазон элементов, ограниченный итераторами first и last (исключая last), из списка x в список, для которого вызывается splice.
   position: Итератор, указывающий на позицию в целевом списке, куда нужно вставить перемещенные элементы. Элементы из x будут вставлены перед элементом, на который указывает position.
   x: Ссылка на исходный список, из которого нужно переместить элементы.
   first: Итератор, указывающий на начало диапазона элементов, которые нужно переместить (включительно).
   last: Итератор, указывающий на конец диапазона элементов, которые нужно переместить (исключительно). Элемент, на который указывает last, не будет перемещен.


## Пример 1

Ввод
      My
      program
      is
      awful
      bad
      poor
      wrong
      awesome

      Down
      Down
      Down
      Shift
      Down
      Down
      Down
      Down
      Ctrl+X

Вывод

      My
      program
      is
      awesome

## Пример 2

Ввод
      a
      b
      c
      d
      e
      f
      g

      Down
      Shift
      Down
      Down
      Ctrl+X
      Down
      Shift
      Down
      Down
      Down
      Ctrl+V

Вывод

      a
      d
      b
      c

## Пример 3

Ввод
      program
      is awesome
      My
      is awful

      Down
      Down
      Down
      Ctrl+X
      Up
      Ctrl+X
      Up
      Up
      Ctrl+V

Вывод

      My
      program
      is awesome